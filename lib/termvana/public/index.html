<html>
  <head>
    <title>termvana</title>
    <link href='/assets/nirvana.css' rel='stylesheet' type='text/css'>
    <script src='/assets/nirvana.js' type='text/javascript'></script>
    <script type='text/javascript'>
      $(document).ready( function(){
          $('#input').readline({
            autocompleteCss: '',
            readlineCss: '',
            startCompletion: $.ws.nirvanaComplete
          }).repl({
            resultPrompt: '',
            startMessage: function() { return '$ termvana' },
            spinner: '/assets/spinner.gif',
            loop: function(val) {
              $.readline.addHistory(val);
              $.ws().send(JSON.stringify({full_command: val}));
            }
            });

        $(window).click(function(){ $('#input').focus(); });
      });
    </script>
  </head>
  <body>
    <section class="termkitCommandView">
      <form id="terminal">
        <input id='input' type='text'>
      </form>
    </section>
    <footer>
      <div id="current_working_dir"></div>
    </footer>
  </body>
</html>
